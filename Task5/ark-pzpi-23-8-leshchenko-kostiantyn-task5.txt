Міністерство освіти і науки України 


Харківський національний університет радіоелектроніки 
Кафедра «Програмної інженерії»


ЛАБОРАТОРНА РОБОТА №5 
«РОЗГОРТАННЯ ПРОГРАМНОЇ СИСТЕМИ ТА ДЕМОНСТРАЦІЯ ЇЇ РОБОТИ»








Виконав:                                                                                            Прийняв:
ст. гр. ПЗПІ-23-8                                                                              Дашенков Д.С.
Лещенко Костянтин Сергійович






Харків 2025
Мета роботи: Навчитися розгортати програмну систему, перевіряти її функціональність, виконувати налаштування, а також демонструвати та документувати роботу системи.
Тема роботи: Програмна система для автоматизації контролю касових черг.
Посилання на відеозапис: https://youtu.be/2ixsilJV4bs
Хід роботи
1.	Розгорнути реалізовану програмну систему Розгортання системи виконано локально на комп'ютері розробника без використання Docker чи хмарних сервісів (для демонстраційного прототипу). Серверна частина (FastAPI) запущена за допомогою uvicorn, IoT клієнт — як окремий Python-скрипт. База даних SQLite створена автоматично.
Процес розгортання:
•	Запуск серверної частини: виконання файлу start_server.bat (активує віртуальне середовище та запускає uvicorn).
•	Запуск IoT клієнта: виконання файлу run_iot.bat (активує середовище та запускає iot_client.py).
Налаштування середовища: віртуальне середовище Python (venv), встановлення залежностей з requirements.txt.

 
Рисунок 1.1 – Запуск серверної частини (консоль start_server.bat)

 
Рисунок 1.2 – Запуск IoT клієнта (консоль run_iot.bat) 

Перевірити та налаштувати роботу розгорнутої програмної системи Перевірка стабільності: система працює без помилок при одночасному запуску сервера та IoT клієнта. Налаштування виконано через config.json (IoT клієнт) та Swagger UI (сервер).

 
Рисунок 2.1 – Swagger UI з доступними ендпоінтами 

Продемонструвати описану у розділі 2.2 Vision & Scope функціональність програмної системи Демонстрація включає:
•	Бізнес-логіку: прогнозування часу очікування та сповіщення (/queues/{id}/process).
•	Функції адміністрування: створення користувачів, резервні копії, логи (/admin/*).
•	Налаштування IoT клієнта: зміна параметрів у config.json.
•	Взаємодію IoT клієнта та сервера: автоматичне оновлення черги.
Фрагмент коду бізнес-логіки (main.py):

1 @app.put("/queues/{queue_id}/process")  
2 def process_queue(queue_id: int, db: Session = Depends(get_db)):  
3     queue = db.query(models.Queue).filter(models.Queue.id == queue_id).first()  
4     average_time_per_person = 2  
5     estimated_time = queue.people_count * average_time_per_person  
6     notification = {"message": "Черга в нормі"} if queue.people_count <= 10 else {"message": "Черга переповнена!"}  
7     return {"estimated_time": estimated_time, "notification": notification}
Фрагмент коду адміністрування (main.py):

1 @app.post("/admin/backup")  
2 def create_backup(db: Session = Depends(get_db)):  
3     backup_filename = f"backup_{datetime.now().strftime('%Y%m%d_%H%M%S')}.db"  
4     shutil.copy("queue.db", backup_filename)  
5     return {"message": "Резервну копію створено", "file": backup_filename}
Фрагмент коду налаштування та взаємодії IoT клієнта (iot_client.py):

1 with open("config.json", "r", encoding="utf-8") as f:  
2     config = json.load(f)  
3 # ...  
4 if people > config["alert_threshold"]:  
5     print("ЛОКАЛЬНЕ СПОСТЕРЕЖЕННЯ: Черга переповнена!")  
6 requests.put(f"{config['server_url']}/queues/{config['checkout_id']}", json={"people_count": people})

 
Рисунок 3.1 – Схема взаємодії компонентів 

 
Рисунок 3.2 – Демонстрація повної роботи системи (консоль IoT + Swagger)
Висновки Програмна система успішно розгорнута локально. Перевірено стабільність та коректність роботи всіх компонентів: серверної частини, IoT клієнта та бази даних. 



Міністерство освіти і науки України 


Харківський національний університет радіоелектроніки 
Кафедра «Програмної інженерії»


ЛАБОРАТОРНА РОБОТА №3 
«РОЗРОБКА БІЗНЕС-ЛОГІКИ ТА ФУНКЦІЙ АДМІНІСТРУВАННЯ СЕРВЕРНОЇ ЧАСТИНИ ПРОГРАМНОЇ СИСТЕМИ »








Виконав:                                                                                            Прийняв:
ст. гр. ПЗПІ-23-8                                                                              Дашенков Д.С.
Лещенко Костянтин Сергійович






Харків 2025
Мета роботи: Ознайомитися з процесом розробки бізнес-логіки та функцій адміністрування серверної частини програмної системи. Отримати практичні навички реалізації бізнес-логіки, функцій адміністрування, створення UML-діаграм діяльності та взаємодії, а також перевірки (тестування) роботи серверної частини.
Тема роботи: Програмна система для автоматизації контролю касових черг.
Посилання на відеозапис: https://youtu.be/zrZ7A1y57nM
Хід роботи
1.	Розробити бізнес-логіку серверної частини програмної системи Бізнес-логіка серверної частини системи включає математичну обробку даних про черги: розрахунок прогнозованого часу очікування (кількість людей у черзі помножена на середній час обслуговування одного клієнта — 2 хвилини) та генерацію сповіщень при перевищенні порогу в 10 людей. Це забезпечує оперативне реагування на пікові навантаження, як описано в розділі 3.1 Vision & Scope (моніторинг черг, прогнозування та сповіщення). Алгоритм реалізований як ендпоінт у FastAPI, інтегрований з базою даних через SQLAlchemy ORM.
Фрагмент програмного коду бізнес-логіки серверної частини main.py:
1 @app.put("/queues/{queue_id}/process")  
2 def process_queue(queue_id: int, db: Session = Depends(get_db)):  
3     queue = db.query(models.Queue).filter(models.Queue.id == queue_id).first()  
4     if not queue:  
5         raise HTTPException(status_code=404, detail="Чергу не знайдено")  
6       
7     # Бізнес-логіка: математичний розрахунок прогнозованого часу очікування  
8     average_time_per_person = 2  # хвилин на одного клієнта (середній час обслуговування)  
9     estimated_time = queue.people_count * average_time_per_person  # Прогноз = кількість людей * середній час  
10       
11     # Генерація сповіщення на основі порогового значення  
12     if queue.people_count > 10:  
13         notification = {"message": f"Черга на касі {queue.checkout_id} перевищує 10 людей! Рекомендується відкрити додаткову касу."}  
14     else:  
15         notification = {"message": "Черга в нормі"}  
16       
17     return {  
18         "queue_id": queue_id,  
19         "people_count": queue.people_count,  
20         "estimated_wait_time_minutes": estimated_time,  
21         "notification": notification  
22     }

 
Рисунок 1.1 – UML-діаграма діяльності для бізнес-логіки серверної частини
Розробити функції адміністрування серверної частини програмної системи Функції адміністрування забезпечують управління користувачами (створення з ролями), створення резервних копій бази даних (копіювання файлу queue.db) та перегляд логів дій адміністратора. Це відповідає вимогам Vision & Scope щодо адміністрування (управління користувачами, резервне копіювання, захист даних). Функції реалізовані як ендпоінти в FastAPI, з логуванням дій у БД.
Фрагмент програмного коду адміністрування серверної частини (main.py, з нумерацією рядків):
1 @app.post("/admin/users")  
2 def create_user(username: str, role: str = "manager", db: Session = Depends(get_db)):  
3     user = models.User(username=username, role=role)  
4     db.add(user)  
5     db.commit()  
6     return {"message": "Користувача створено", "username": username, "role": role}  
7   
8 @app.post("/admin/backup")  
9 def create_backup(db: Session = Depends(get_db)):  
10     backup_filename = f"backup_queue_{datetime.now().strftime('%Y%m%d_%H%M%S')}.db"  
11     shutil.copy("queue.db", backup_filename)  
12     log = models.AdminLog(action=f"Створено резервну копію {backup_filename}")  
13     db.add(log)  
14     db.commit()  
15     return {"message": "Резервну копію створено", "file": backup_filename}  
16   
17 @app.get("/admin/logs")  
18 def get_logs(db: Session = Depends(get_db)):  
19     logs = db.query(models.AdminLog).all()  
20     return [{"id": log.id, "action": log.action, "timestamp": log.timestamp} for log in logs]
 
Рисунок 2.1 – UML-діаграма взаємодії для функцій адміністрування серверної частини
3.	Створити програмну реалізацію бізнес-логіки та функцій адміністрування серверної частини Реалізація виконана на базі FastAPI з інтеграцією SQLAlchemy. Бізнес-логіка обробляє дані про черги, адміністрування — користувачів та систему. Файли: main.py (ендпоінти), models.py (моделі БД).
4.	Перевірити роботу серверної частини системи Перевірка проведена через Swagger UI: тестування прогнозування, створення користувача, резервної копії. Дані коректно зберігаються в БД, сповіщення генеруються правильно.

 
Рисунок 3.1 – Перевірка бізнес-логіки в Swagger UI




 
 
Рисунок 3.2 – Перевірка адміністрування в Swagger UI

 
 
Рисунок 3.3 – Перегляд даних у БД після перевірки

Висновки У результаті лабораторної роботи №3 розроблено бізнес-логіку (прогнозування часу очікування та сповіщення) та функції адміністрування (управління користувачами, резервні копії, логи). Система відповідає вимогам Vision & Scope. Перевірка підтвердила коректну роботу.

